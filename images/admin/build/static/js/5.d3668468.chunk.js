(this["webpackJsonpadmin-ciutat_agora"]=this["webpackJsonpadmin-ciutat_agora"]||[]).push([[5],{516:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(70),o=n(4),i=n(56),s=n(303),l=n(438),c=n(0),u=Object(a.observer)((function(e){var t=e.filtre;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(l.Fields.Input,{name:"text",label:"Projecte",startIcon:Object(c.jsx)(s.a,{}),onChange:function(e){var n=e.target,r=n.name,a=n.value;t.setCerca(Object(i.a)(Object(i.a)({},t.cerca),{},Object(o.a)({},r,a)))}})})})),j=Object(a.observer)((function(e){var t=e.state,n=e.filtre;r.useEffect((function(){n.setObjs(t.objs)}),[t.objs,n]);var a=n.getItems().map((function(e,n){return{titol:e.nom,onClick:function(){return t.onEdit(e)},onEdit:function(){return t.onEdit(e)},onDelete:function(){return t.onDel(e)}}}));return Object(c.jsx)(l.WebLlistat,{header:Object(c.jsx)(u,{filtre:n}),footer:Object(c.jsx)(l.WebPaginacio,{filtres:n}),items:a})})),d=n(319),b=Object(a.observer)((function(e){var t=e.state,n=r.useContext(d.appState),a=t.objSel;return Object(c.jsx)(l.WebDialog,{open:t.openPopup,titol:"Projectes",descripcio:"Editar o afegit projectes",onSave:t.onSave,onClose:t.onClose,fullscreen:!0,children:Object(c.jsxs)(l.WebForm,{children:[Object(c.jsx)(l.Fields.Input,{name:"id",required:!0,label:"Id",value:a.id,onChange:t.onChange,onBlur:t.validateSingleError,disabled:!0,xs:3,textError:t.errors.id}),Object(c.jsx)(l.Fields.Input,{name:"nom",required:!0,label:"Nom",value:a.nom,onChange:t.onChange,onBlur:t.validateSingleError,flexGrow:!0,textError:t.errors.nom}),Object(c.jsx)(l.Fields.NewLine,{}),Object(c.jsx)(l.Fields.Input,{name:"resum",label:"Resum",value:a.resum,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,textError:t.errors.resum}),Object(c.jsx)(l.Fields.EditorHtml,{name:"text",value:a.text,label:"Text",onChange:t.onChange,xs:12,sourceTinyMce:"/admin/ciutatagora/tinymce/tinymce.min.js"}),Object(c.jsx)(l.Fields.UploadFile,{name:"imatge",label:"Imatge",required:!0,value:a.imatge,xs:12,md:6,textError:t.errors.imatge,onChange:t.onChange,domainMedia:n.urlMedia,onLoad:function(e){return t.fileUpload(e)},onDelImg:function(e){return t.onDelImg(e)}}),Object(c.jsx)(l.Fields.Input,{name:"web",label:"Web",value:a.web,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.web})]})})}));t.default=function(){var e=r.useContext(d.appState).projectesState;r.useEffect((function(){e.onLoad()}));var t=new l.FilterState;return t.setRowsPerPage(10),t.setFilter(e.cercarGenerica),Object(c.jsxs)(l.WebPant,{titol:"Projectes",onAdd:function(){return e.onAdd()},tipusAdd:"action",children:[Object(c.jsx)(j,{state:e,filtre:t}),Object(c.jsx)(b,{state:e})]})}}}]);