(this["webpackJsonpadmin-ciutat_agora"]=this["webpackJsonpadmin-ciutat_agora"]||[]).push([[4],{517:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(70),o=r(4),i=r(56),s=r(303),l=r(438),u=r(0),c=Object(a.observer)((function(e){var t=e.filtre;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.Fields.Input,{name:"text",label:"Autor",startIcon:Object(u.jsx)(s.a,{}),onChange:function(e){var r=e.target,n=r.name,a=r.value;t.setCerca(Object(i.a)(Object(i.a)({},t.cerca),{},Object(o.a)({},n,a)))}})})})),b=Object(a.observer)((function(e){var t=e.state,r=e.filtre;n.useEffect((function(){r.setObjs(t.objs)}),[t.objs,r]);var a=r.getItems().map((function(e,r){return{titol:e.nom,onClick:function(){return t.onEdit(e)},onEdit:function(){return t.onEdit(e)},onDelete:function(){return t.onDel(e)}}}));return Object(u.jsx)(l.WebLlistat,{header:Object(u.jsx)(c,{filtre:r}),footer:Object(u.jsx)(l.WebPaginacio,{filtres:r}),items:a})})),d=r(319),j=Object(a.observer)((function(e){var t=e.state,r=n.useContext(d.appState),a=t.objSel;return Object(u.jsxs)(l.WebDialog,{open:t.openPopup,titol:"Autors",descripcio:"Editar o afegit autors",onSave:t.onSave,onClose:t.onClose,fullscreen:!0,children:[Object(u.jsxs)(l.WebForm,{children:[Object(u.jsx)(l.Fields.Input,{name:"id",required:!0,label:"Id",value:a.id,onChange:t.onChange,onBlur:t.validateSingleError,disabled:!0,xs:3,textError:t.errors.id}),Object(u.jsx)(l.Fields.Input,{name:"nom",required:!0,label:"Nom",value:a.nom,onChange:t.onChange,onBlur:t.validateSingleError,flexGrow:!0,textError:t.errors.nom}),Object(u.jsx)(l.Fields.NewLine,{}),Object(u.jsx)(l.Fields.Input,{name:"resum",label:"Resum",value:a.resum,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,textError:t.errors.resum}),Object(u.jsx)(l.Fields.EditorHtml,{name:"text",value:a.text,label:"Text",onChange:t.onChange,xs:12,sourceTinyMce:"/admin/ciutatagora/tinymce/tinymce.min.js"}),Object(u.jsx)(l.Fields.UploadFile,{name:"imatge",label:"Imatge",required:!0,value:a.imatge,xs:12,textError:t.errors.imatge,onChange:t.onChange,domainMedia:r.urlMedia,onLoad:function(e){return t.fileUpload(e)},onDelImg:function(e){return t.onDelImg(e)}}),Object(u.jsx)(l.Fields.Input,{name:"web",label:"Web",value:a.web,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.web})]}),Object(u.jsx)(l.Fields.Titol,{titol:"Xarxes socials"}),Object(u.jsxs)(l.WebForm,{children:[Object(u.jsx)(l.Fields.Input,{name:"instagram",label:"Instagram",value:a.instagram,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.instagram}),Object(u.jsx)(l.Fields.Input,{name:"facebook",label:"Facebook",value:a.facebook,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.facebook}),Object(u.jsx)(l.Fields.Input,{name:"twitter",label:"Twitter",value:a.twitter,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.twitter}),Object(u.jsx)(l.Fields.Input,{name:"youtube",label:"Youtube",value:a.youtube,onChange:t.onChange,onBlur:t.validateSingleError,xs:12,md:6,textError:t.errors.youtube})]})]})}));t.default=function(){var e=n.useContext(d.appState).autorsState;n.useEffect((function(){e.onLoad()}));var t=new l.FilterState;return t.setRowsPerPage(10),t.setFilter(e.cercarGenerica),Object(u.jsxs)(l.WebPant,{titol:"Autors",onAdd:function(){return e.onAdd()},tipusAdd:"action",children:[Object(u.jsx)(b,{state:e,filtre:t}),Object(u.jsx)(j,{state:e})]})}}}]);